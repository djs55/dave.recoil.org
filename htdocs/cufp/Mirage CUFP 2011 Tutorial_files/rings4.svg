<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="-9.3464565 21.653543 544.69287 475.69293" width="544.69287pt" height="475.69293pt"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2011-09-21 09:03Z</dc:date><!-- Produced by OmniGraffle Professional 5.3.2 --></metadata><defs><font-face font-family="Helvetica" font-size="17" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="15" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98045" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="15" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98045" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica" font-size="14" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-1 -3 6 6" markerWidth="6" markerHeight="6" color="#3d0a27"><g><path d="M 3.7333333 0 L 0 -1.4 L 0 1.4 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica" font-size="13" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.31641" slope="0" x-height="532.22656" cap-height="719.72662" ascent="770.0196" descent="-229.98048" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_3" viewBox="-5 -3 6 6" markerWidth="6" markerHeight="6" color="#16521d"><g><path d="M -3.7333333 0 L 0 1.4 L 0 -1.4 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica" font-size="14" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_4" viewBox="-9 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M -8 0 L 0 3 L 0 -3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Rings 4</title><rect fill="white" width="559" height="783"/><g><title>Layer 1</title><circle cx="248.5" cy="227.5" r="89.50015" fill="white"/><circle cx="248.5" cy="227.5" r="89.50015" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><line x1="313.2539" y1="167.50391" x2="186.74219" y2="294.01562" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="183.875" y1="164.546875" x2="310.13281" y2="290.80469" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="249.49805" y1="138" x2="249.49805" y2="317" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="159" y1="229.32812" x2="338" y2="229.32812" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(19.912109 50.378906)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="21.822266" y="16" textLength="113.35547">Backend Ring</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="2.2182617" y="35" textLength="90.03662">Consumer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="92.254883" y="35" textLength="62.526855">requests</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x=".127197266" y="53" textLength="81.708984">Producer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="81.83618" y="53" textLength="75.03662">responses</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="18.064209" y="71" textLength="55.026855">Runs in </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="73.091064" y="71" textLength="65.844727">domain 0</tspan></text><text transform="translate(340.30469 50.378906)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="24.927734" y="16" textLength="116.14453">Frontend Ring</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x=".4633789" y="35" textLength="90.03662">Consumer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="90.5" y="35" textLength="75.03662">responses</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="10.88208" y="53" textLength="81.708984">Producer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="92.591064" y="53" textLength="62.526855">requests</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="9.2268066" y="71" textLength="55.026855">Runs in </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="64.253662" y="71" textLength="92.51953">Mirage guest</tspan></text><path d="M 249.41974 229.32812 L 339.82614 227.75008 C 339.42297 204.65288 329.9386 182.61662 313.37207 166.28601 Z" fill="#e8a4ec" fill-opacity=".4"/><line x1="394.59375" y1="229.32812" x2="350.20407" y2="229.82639" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(352.30038 230.72453) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".3725586" y="14" textLength="62.254883">Rsp_cons</tspan></text><path d="M 217.38672 321.00067 C 225.09819 323.40427 231.33817 326.81659 240.52344 328.21216 C 249.70871 329.60773 261.93008 331.2435 272.5039 329.375 C 283.07773 327.5065 293.84738 323.83936 303.97266 317 C 310.28119 312.73877 316.30884 306.36874 322.31775 299.86108" marker-end="url(#FilledArrow_Marker_2)" stroke="#3d0a27" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/><text transform="translate(258.3045 335.76062) rotate(-12.9999986)" fill="#3d0b28"><tspan font-family="Helvetica" font-size="13" font-weight="bold" fill="#3d0b28" x=".31958008" y="13" textLength="69.36084">Responses</tspan></text><path d="M 197.39389 140.5511 C 202.53497 137.33946 207.66548 134.33223 212.74219 132.34375 C 222.2703 128.611694 231.09009 127.21933 241.04938 126.52734 C 251.00867 125.83536 262.86206 126.02274 272.5039 128.19141 C 282.14575 130.36006 290.10635 135.75792 298.90625 139.54062" marker-start="url(#FilledArrow_Marker_3)" stroke="#16521d" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/><text transform="translate(221.5039 107.378906)" fill="#17521d"><tspan font-family="Helvetica" font-size="14" font-weight="bold" fill="#17521d" x=".4897461" y="14" textLength="63.020508">Requests</tspan></text><text transform="translate(19.912109 376.83594)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="67.34912" y="16" textLength="39.694336">Slice</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="17.57959" y="35" textLength="143.40088">Each slice is a single </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="7.5637207" y="53" textLength="159.26514">device-dependent RPC.</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="5.901123" y="71" textLength="166.75781">There are a constant set </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="26.332031" y="89" textLength="121.728516">of slots in the ring.</tspan></text><text transform="translate(326.11914 376.83594)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="26.566162" y="16" textLength="103.867676">Flow Control</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="23.04834" y="35" textLength="115.0708">Each side has to </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="4.2836914" y="53" textLength="152.6001">ensure that it does not </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="3.0458984" y="71" textLength="155.07568">overwrite unconsumed </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="2.2109375" y="89" textLength="152.578125">requests or responses.</tspan></text><path d="M 249.05693 229.7288 L 312.34299 166.44275 C 277.96353 132.06329 222.26117 131.69188 187.14508 165.60797 Z" fill="#a1eca8" fill-opacity=".4"/><text transform="translate(106.18664 158.75534) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".2553711" y="14" textLength="61.489258">Req_prod</tspan></text><line x1="170.6387" y1="160.52321" x2="126.24902" y2="161.02147" marker-start="url(#FilledArrow_Marker_4)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="379.85687" y1="165.99478" x2="335.4672" y2="166.49304" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(333.61438 145.93765) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".1484375" y="14" textLength="60.703125">Rsp_prod</tspan></text><rect x="128.50391" y="351.13086" width="250" height="20" stroke="#aeaeae" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(128.50391 351.13086)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x=".28491211" y="16" textLength="249.43018">3) Backend pushes 1 response</tspan></text><text transform="translate(338.35175 168.35562) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".4794922" y="14" textLength="63.041016">Req_cons</tspan></text></g></g></svg>
