<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="-9.3464565 21.653543 544.69287 475.69293" width="544.69287pt" height="475.69293pt"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2011-09-21 09:03Z</dc:date><!-- Produced by OmniGraffle Professional 5.3.2 --></metadata><defs><font-face font-family="Helvetica" font-size="17" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="15" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98045" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="15" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98045" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica" font-size="14" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_2" viewBox="-5 -3 6 6" markerWidth="6" markerHeight="6" color="#16521d"><g><path d="M -3.7333333 0 L 0 1.4 L 0 -1.4 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Helvetica" font-size="14" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker_3" viewBox="-9 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M -8 0 L 0 3 L 0 -3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Rings 3</title><rect fill="white" width="559" height="783"/><g><title>Layer 1</title><circle cx="248.5" cy="227.5" r="89.50015" fill="white"/><circle cx="248.5" cy="227.5" r="89.50015" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><line x1="313.2539" y1="167.50391" x2="186.74219" y2="294.01562" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="183.875" y1="164.546875" x2="310.13281" y2="290.80469" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="249.49805" y1="138" x2="249.49805" y2="317" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="159" y1="229.32812" x2="338" y2="229.32812" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(340.30469 50.378906)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="24.927734" y="16" textLength="116.14453">Frontend Ring</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x=".4633789" y="35" textLength="90.03662">Consumer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="90.5" y="35" textLength="75.03662">responses</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="10.88208" y="53" textLength="81.708984">Producer of </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="92.591064" y="53" textLength="62.526855">requests</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="9.2268066" y="71" textLength="55.026855">Runs in </tspan><tspan font-family="Helvetica" font-size="15" font-weight="bold" x="64.253662" y="71" textLength="92.51953">Mirage guest</tspan></text><line x1="394.59375" y1="229.32812" x2="350.20407" y2="229.82639" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(352.30038 230.72453) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".3725586" y="14" textLength="62.254883">Rsp_cons</tspan></text><path d="M 197.39389 140.5511 C 202.53497 137.33946 207.66548 134.33223 212.74219 132.34375 C 222.2703 128.611694 231.09009 127.21933 241.04938 126.52734 C 251.00867 125.83536 262.86206 126.02274 272.5039 128.19141 C 282.14575 130.36006 290.10635 135.75792 298.90625 139.54062" marker-start="url(#FilledArrow_Marker_2)" stroke="#16521d" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/><text transform="translate(221.5039 107.378906)" fill="#17521d"><tspan font-family="Helvetica" font-size="14" font-weight="bold" fill="#17521d" x=".4897461" y="14" textLength="63.020508">Requests</tspan></text><text transform="translate(19.912109 376.83594)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="67.34912" y="16" textLength="39.694336">Slice</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="17.57959" y="35" textLength="143.40088">Each slice is a single </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="7.5637207" y="53" textLength="159.26514">device-dependent RPC.</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="5.901123" y="71" textLength="166.75781">There are a constant set </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="26.332031" y="89" textLength="121.728516">of slots in the ring.</tspan></text><text transform="translate(326.11914 376.83594)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x="26.566162" y="16" textLength="103.867676">Flow Control</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="23.04834" y="35" textLength="115.0708">Each side has to </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="4.2836914" y="53" textLength="152.6001">ensure that it does not </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="3.0458984" y="71" textLength="155.07568">overwrite unconsumed </tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="2.2109375" y="89" textLength="152.578125">requests or responses.</tspan></text><path d="M 247.55696 228.22884 L 314.75226 167.72592 C 281.81342 131.14365 225.02686 128.57591 187.91592 161.99075 C 186.74307 163.04678 185.59769 164.1329 184.48093 165.248 Z" fill="#a1eca8" fill-opacity=".4"/><text transform="translate(106.18664 158.75534) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".2553711" y="14" textLength="61.489258">Req_prod</tspan></text><line x1="170.6387" y1="160.52321" x2="126.24902" y2="161.02147" marker-start="url(#FilledArrow_Marker_3)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="380.4082" y1="166.39125" x2="336.01852" y2="166.88951" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(337.61487 167.79352) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".4794922" y="14" textLength="63.041016">Req_cons</tspan></text><text transform="translate(353.30032 207.25928) rotate(-.67186203)" fill="black"><tspan font-family="Helvetica" font-size="14" font-weight="500" x=".1484375" y="14" textLength="60.703125">Rsp_prod</tspan></text><rect x="140.00391" y="351.13086" width="227" height="20" stroke="#aeaeae" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(140.00391 351.13086)" fill="black"><tspan font-family="Helvetica" font-size="17" font-weight="bold" x=".119628906" y="16" textLength="226.76074">2) Backend reads 1 Request</tspan></text></g></g></svg>
